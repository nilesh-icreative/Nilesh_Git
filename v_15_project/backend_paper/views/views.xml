<odoo>
  <data>

    <record id="sequence_self_service" model="ir.sequence">
      <field name="name">Self Service</field>
      <field name="code">self.service</field>
      <field name="active">TRUE</field>
      <field name="prefix">BS/</field>
      <field name="padding">4</field>
      <field name="number_next">1</field>
      <field name="number_increment">1</field>
    </record>

    <!-- explicit Form view definition -->
    <record model="ir.ui.view" id="sale_workflow_form_view">
      <field name="name">Batch Sale Workflow</field>
      <field name="model">batch.sale.workflow</field>
      <field name="arch" type="xml">
        <form>
          <header>
            <button string="Proceed Operation" class="btn-primary" type="object" name="btn_proceed_operation"
            attrs="{'invisible': [('id','=',False)]}"/>
            <button string="Cancel" class="btn-primary" type="object" name="btn_cancel"
            attrs="{'invisible': ['|',('status','not in','draft'),('id', '=', False)]}"/>
            <button string="Set To Draft" class="btn-primary" type="object" name="btn_draft"/>
            <button type="action" name="%(backend_paper.product_wizards_action_window)d"
                    class="btn-primary" string="Product"/>
            <field name="status" widget="statusbar"
                   statusbar_visible="draft,done,cancel"/>
          </header>
          <sheet>
            <group>
              <field name="name" string=""/>
              <group>
                <field name="users_id" attrs="{'readonly': [('status', '!=', 'draft')]}"/>
                <field name="operation_type" attrs="{'readonly': [('status', '!=', 'draft')]}"/>
              </group>
              <group>
                <field name="partner_id" attrs="{'invisible': [('operation_type', '!=', 'mer')],
                'required': [('operation_type','=','mer')]}"/>
                <field name="operation_date" attrs="{'readonly': [('status', '!=', 'draft')]}"/>
              </group>
              <span><b>Sale Order</b></span>
              <field name="user_domain" invisible="1"/>
              <field name="sale_order_ids" domain = 'user_domain' attrs="{'readonly': [('status', '!=', 'draft')]}"/>
            </group>
          </sheet>
        </form>
      </field>
    </record>

    <!-- explicit Tree view definition -->
    <record model="ir.ui.view" id="sale_workflow_tree_view">
      <field name="name">Batch Sale Workflow</field>
      <field name="model">batch.sale.workflow</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
        </tree>
      </field>
    </record>


    <!-- actions opening views on models -->
    <record model="ir.actions.act_window" id="sale_workflow_action_window">
      <field name="name">Batch Sale Workflow window</field>
      <field name="res_model">batch.sale.workflow</field>
      <field name="view_mode">tree,form</field>
    </record>

    <!-- Top menu item -->
    <menuitem name="Batch Sale Workflow" id="sale_workflow_menu_root" action="sale_workflow_action_window"/>

  </data>
</odoo>